\documentclass[main.tex]{subfiles}
\begin{document}
\section{Obstruction Theory}

Using truncation functors we can define Postnikov towers in any combinatorial
simplicial model category. Recall that a \emph{tower} in \(\mathbf M\) is a
diagram of the form
\[
  \cdots \to X_{n+1}\to X_{n}\to X_{n-1}\to \cdots \to X_{0}
\]
and a \emph{convergent tower} in \(\mathbf M\) is a diagram
\[
  X_{\infty}\xrightarrow{\pi} \cdots \to X_{n+1}\to X_{n}\to\cdots\to X_{0}
\]
exhibiting \(X_{\infty}\) as the homotopy limit of the tower
\(\{X_{n}\}_{n\in\NN}\), \ie~such that the morphism
\[
  X_{\infty}\xrightarrow{\pi}\holim_{n\in\NN} X_{n}
\]
is a weak equivalence.

\begin{definition}
  Let \(\mathbf M\) be a combinatorial simplicial model category and
  \(X\in\mathbf M\). The tower
  \[
    \cdots\to\trunc{n} X\to\trunc{n-1} X\to\cdots\to\trunc{1} X\to\trunc{0}X
  \]
  is called the \emph{Postnikov tower} for \(X\). The Postnikov tower for \(X\)
  is said to \emph{converge} if
  \[
    X\to\cdots\to\trunc{n} X\to\trunc{n-1} X\to\cdots\to\trunc{1} X\to\trunc{0}X
  \]
  is a convergent tower in \(\mathbf M\).
\end{definition}

\begin{definition}[{cf.~\cite[Definition~7.2.2.20]{mr2522659}}]
  An object \(E\) in a combinatorial simplicial model category \(\mathbf M\)
  which is \((n-1)\)--connected and \(n\)--truncated is an \emph{\(n\)--gerbe}.
  An \(n\)--gerbe in \(\mathbf M/X\) for some \(X\in\mathbf M\) is an
  \emph{\(n\)--gerbe over \(X\)}.

  An \(n\)--gerbe \(E\) equipped with a morphism \(*\to E\) is an
  \emph{Eilenberg--Mac~Lane object in degree \(n\)}.
\end{definition}

\begin{example}
  By definition, the canonical map \(\trunc{n}X \to \trunc{n-1}X\) is an
  \(n\)--gerbe over \(\trunc{n-1}X\).
\end{example}

Given an Eilenberg--Mac~Lane object \(E\) in degree
\(n\),~\autoref{prop:truncated-homotopy-groups}
and~\autoref{prop:connected-homotopy-groups} imply that \(E\) has a single
nontrivial homotopy sheaf \(\pi_n(E)\in\disc(\mathbf M/E)\). If \(n\geq 2\) then
\(\pi_n(E)\) is always equivalent to the pullback of a sheaf of abelian groups
\(A\in\disc(\mathbf M)\)\viktor{Prove this.
  insert~\cite[Lemma~7.2.1.13]{mr2522659} maybe?}. However, this need not be the
case for \(n\leq 1\).

Given a group object \(G\) in a model topos \(\mathbf M\), there always is a
\emph{delooping} \(\deloop{G}\in\mathbf M\). It can be constructed as follows.
The group object \(G\) determines a simplicial object
\[
  \actgrp{*}{G} = \begin{mytikzcd} \cdots \arrow[r, shift left=2.4ex] \arrow[r,
    shift left=1.2ex] \arrow[r] \arrow[r, shift left=-1.2ex] \arrow[r, shift
    left=-2.4ex] & G\times G\times G \arrow[r, shift left=1.8ex] \arrow[r, shift
    left=.6ex] \arrow[r, shift left=-.6ex] \arrow[r, shift left=-1.8ex] &
    G\times G \arrow[r, shift left=1.2ex] \arrow[r] \arrow[r, shift left=-1.2ex]
    & G \arrow[r, shift left=.6ex] \arrow[r, shift left=-.6ex] & *
  \end{mytikzcd}
\]
and \(\deloop{G} = \hocolim \actgrp{*}{G}\) is defined to be the homotopy
colimit of this diagram.\viktor{compute loops of this beast, use descent
  statement by Rezk}

\begin{proposition}\label{prop:deloop-products}
  Let \(\mathbf M\) be a model topos. There is a functor \(F\) from the category
  of group objects in \(\mathbf M\) to \(\mathbf M\) which is compatible with
  products and such that \(F(G)\simeq\deloop{G}\) for all group objects \(G\) in
  \(\mathbf M\).
\end{proposition}

\begin{proof}
  Choose a presentation for the model topos \(\mathbf M\) as a left exact
  localization
  \[
    \begin{mytikzcd}
      \mathbf M \arrow[r, shift right=.7ex, "i"'] & \arrow[l, shift right=.7ex,
      "L"'] \spshv(\mathbf C).
    \end{mytikzcd}
  \]
  Any such presentation allows one to transfer a functor \(F\) as in the
  proposition from \(\spshv(\mathbf C)\) to \(\mathbf M\). Hence, without loss
  of generality, we can assume \(\mathbf M = \spshv(\mathbf C)\).

  Given a simplicial presheaf of groups in \(\spshv(\mathbf C)\) the
  construction \(\actgrp{*}{G}\) yields a bisimplicial presheaf over \(\mathbf
  C\). Its diagonal \(d(\actgrp{*}{G})\) is weakly equivalent to its homotopy
  colimit\viktor{find a proper reference}, hence \(d(\actgrp{*}{G})\) is a model
  for the delooping \(\deloop{G}\) of \(G\). Furthermore, this way of
  constructing \(\deloop{G}\) is evidently compatible with products\viktor{maybe
    not so evidently?}; as a functor from the category of simplicial presheaves
  of groups on \(\mathbf C\) to \(\spshv(\mathbf C)\).
\end{proof}

An abelian group object \(A\) in \(\mathbf M\) can equivalently be regarded as
an abelian group object in the category of group objects in \(\mathbf M\). Since
product preserving functors send abelian group objects to abelian group objects,
\autoref{prop:deloop-products} implies that \(\deloop{A}\) is again an abelian
group object in \(\mathbf M\). It follows that deloopings \(\deloop[n]{A}\) of
all orders \(n\in\NN\) exist.

\begin{definition}
  Given a sheaf of abelian groups \(A\in\disc(\mathbf M)\) in a model topos
  \(\mathbf M\) and \(n\in\mathbb N\), the \(n\)--fold delooping
  \(\deloop[n]{A}\) of \(A\) is the standard Eilenberg--Mac~Lane object
  \(K(A,n)\).

  Similarly, for a sheaf of groups \(G\in\disc(\mathbf M)\), the delooping
  \(\deloop{G}\) is the standard Eilenberg--Mac~Lane object \(K(G,1)\).
\end{definition}

The category \(\mathbf M_*\) of pointed objects \(*\to E\) of \(\mathbf M\)
inherits a simplicial model structure. Given two pointed objects \(E\) and
\(F\), the simplicial set of morphisms from \(E\) to \(F\) in \(\mathbf
M_*\) is given by
\[
  \Hom_{\mathbf M_*}(E,F) = \Hom_{\mathbf M}(E,F) \times_{\Hom_{\mathbf M}(*,
    F)} *;
\]
that is, it is the simplicial set of base point preserving morphisms \(E\to F\).

For \(n\geq 0 \), let \(\EM_n(\mathbf M)\) be the full simplicial subcategory of
\(\mathbf M_*\) on the Eilenberg--Mac~Lane objects of degree \(n\). Let
\(\Cof{\EM_n(\mathbf M)}\) be the full simplicial subcategory of \(\EM_n(\mathbf
M)\) on those object which are fibrant and cofibrant in \(\mathbf M_*\).

Taking sheaves of homotopy groups and pulling back along the base point inclusion defines
simplicial functors
\begin{align*}
  \pi_0\colon&\mathbf M_* \to \disc(\mathbf M)_*,\\
  \pi_1\colon&\mathbf M_* \to \grp(\disc(\mathbf M)), \\
  \shortintertext{and}
  \pi_n\colon&\mathbf M_* \to \abgrp(\disc(\mathbf M))\qquad\text{for \(n\geq 2\),}
\end{align*}
where the target categories are considered as simplicial categories with
discrete morphism complexes. For later convenience, we will write
\[G_n(\mathbf M) =
  \begin{cases}
    \disc(\mathbf M)_* & \text{for \(n=0\)}\\
    \grp(\disc(\mathbf M)) & \text{for \(n=1\)}\\
    \abgrp(\disc(\mathbf M)) & \text{for \(n\geq 2\),}
  \end{cases}
\]

Our next goal will be to show that the homotopy group functors induce
equivalences of categories \(\pi_n\colon\hoEM_n(\mathbf M)\to G_n(\mathbf M)\)
for all \(n\). Here, \(\hoEM_n(\mathbf M)\) denotes the category with the same
objects as \(\Cof{\EM_n(\mathbf M)}\) but with morphism sets
\[\hom_{\hoEM_n(\mathbf M)}(X, Y) = \pi_0\Hom_{\mathbf M_*}(X,Y),\]
that is, simplicial homotopy classes of base point preserving morphisms in
\(\mathbf M\) between \(X\) and \(Y\).

\begin{lemma}
  There is a simplicial functor \(\kanloop{}\colon\mathbf M_*\to\grp(\mathbf M)\)
  such that there is a natural weak equivalence \(\kanloop{X}\simeq *\times^h_X*\) for all
  \(0\)--connected pointed objects \(X\) of \(\mathbf M\). Furthermore, this
  functor is homotopically fully faithful: the induced map
  \[\RHom_{\mathbf M_*}(X, Y)\to\RHom_{\grp(\mathbf M)}(\kanloop{X},\kanloop{Y})\]
  is a weak equivalence of simplicial sets.
\end{lemma}
\begin{proof}
  First, let \(\mathbf M\) be a category of simplicial presheaves, say \(\mathbf
  M = \spshv(\mathbf C)\) for a simplicial category \(\mathbf C\). Recall
  from~\cite[Section~V.5]{goerssjardine} that there is simplicial adjunction
  \[
    \begin{mytikzcd}
      \grp(\sset) \rar[shift right=.7ex][swap]{\wbar} & \lar[shift right=.7ex][swap]{\operatorname{G}} \sset.
    \end{mytikzcd}
  \]
  Furthermore, for reduced simplicial sets \(X\), \ie~if \(X_0 = *\), there is a
  natural weak equivalence \(\operatorname{G}(X) \simeq *\times^h_X*\) of simplicial sets,
  cf.~\cite[Corollary~V.5.11]{goerssjardine}. The inclusion of the category
  \(\sset_0\) of reduced simplicial sets into simplicial sets admits a left
  adjoint given by \(X \mapsto X/{\sk_0(X)}\). Since \(\wbar\) actually takes values
  in reduced simplicial sets there is also a simplicial adjunction
  \[
    \begin{mytikzcd}
      \grp(\sset) \rar[shift right=.7ex][swap]{\wbar} & \lar[shift right=.7ex][swap]{\kanloop{}} \sset_0
    \end{mytikzcd}
  \]
  with \(\kanloop{X} = \operatorname{G}(X/{\sk_0(X)})\).
  \viktor{finish}
\end{proof}

\begin{lemma}
  For all \(n\geq 0\), there is an equivalence \(G_n(\mathbf M)\simeq\grp(G_{n-1}(\mathbf M))\) of
  categories, hence also of (discrete) simplicial categories.
\end{lemma}
\begin{proof}
  \viktor{Prove this}
\end{proof}

\begin{lemma}
  For each \(n\geq 1\), the functor \(\pi_n\colon\EM_n(\mathbf M)\to G_n(\mathbf
  M)\) factors as
  \[
    \begin{mytikzcd}
      \EM_n(\mathbf M) \arrow[r, "\pi_n"] \arrow[d, "\kanloop{}"'] & G_n(\mathbf M) \\
      \grp(\EM_{n-1}(\mathbf M))\arrow[r, "\pi_{n-1}"'] & \grp(G_{n-1}(\mathbf
      M))\arrow[u, "{\simeq}"']
    \end{mytikzcd}
  \]
\end{lemma}
\begin{proof}
  \viktor{prove this}
\end{proof}

\begin{proposition}\label{prop:uniqueness-em-objects}
  Let \(E\) be a degree \(n\) Eilenberg--Mac~Lane object in a model topos
  \(\mathbf M\). Assume that there is a sheaf of groups \(G\in\disc(\mathbf M)\)
  such that \(\pi_n(E)\isom E\times G\). Then there is a base point preserving
  equivalence \(E\to K(G,n)\).
\end{proposition}
\begin{proof}
  For \(n=0\) this is trivial. Let \(n\geq 1\) and assume \(E\) is a degree
  \(n\) Eilenberg--Mac~Lane object with base point \(e\colon *\to E\). By the
  factorization lemma of \cite{MR0341469} there is a factorization \(e = p\circ
  i\) with \(p\colon P\to E\) a fibration and \(i\colon *\to P\) right inverse
  to an acyclic fibration \(r\colon P\to *\).
\end{proof}
\begin{remark}
  The assumption that \(\pi_n(E)\) be a pullback in
  \autoref{prop:uniqueness-em-objects} is automatic for \(n\geq
  2\).\viktor{reference connectedness statements}
\end{remark}

\begin{proposition}\label{prop:gerbe-classification}
  Assume \(E\) is an \(n\)--gerbe in a model topos \(\mathbf M\). Then \(E\times
  E\) equipped with the diagonal \(E\to E\times E\) is a degree \(n\)
  Eilenberg--Mac~Lane object in \(\mathbf M/E\). If additionally \(\pi_n(E)
  \simeq f^*G\) for \(f\colon E\to *\) and some sheaf of groups
  \(G\in\disc(\mathbf M)\), then there is a morphism \(g\colon * \to K(G,n)\)
  whose homotopy fiber is equivalent to \(E\).
\end{proposition}
\begin{proof}
  \viktor{write proof}
\end{proof}

\begin{theorem}
  Given a map \(f\colon Y\to \trunc{n}X\), there exists a lift \(g\colon
  Y\to\trunc{n+1}X\) making the diagram
  \[
    \begin{mytikzcd}
      & \trunc{n+1} X \arrow[d] \\
      Y \arrow[r, "f"'] \arrow[ru, "g"] & \trunc{n} X
    \end{mytikzcd}
  \]
  commute up to homotopy if and only if the associated class in \(H^{n+2}(Y,
  \pi_{n+1}X)\) vanishes.
\end{theorem}
\end{document}

% Local Variables:
% tex-main-file: "main.tex"
% End:
